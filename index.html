<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Document</title>

        <link rel="stylesheet" href="style.css">
    </head>
    <body>

        <div id="map" style="height:95%; width: 100%;"></div>

        <script src="jquery.js"></script>
        <script src="FastestWayGoogleMaps.js"></script>




        <script>
            (function(){
                var styles = [{"featureType":"administrative","elementType":"labels.text.fill","stylers":[{"color":"#444444"}]},{"featureType":"landscape","elementType":"all","stylers":[{"color":"#f2f2f2"}]},{"featureType":"poi","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"road","elementType":"all","stylers":[{"saturation":-100},{"lightness":45}]},{"featureType":"road.highway","elementType":"all","stylers":[{"visibility":"simplified"}]},{"featureType":"road.arterial","elementType":"labels.icon","stylers":[{"visibility":"off"}]},{"featureType":"transit","elementType":"all","stylers":[{"visibility":"off"}]},{"featureType":"water","elementType":"all","stylers":[{"color":"#46bcec"},{"visibility":"on"}]}];

                FastestWayGoogleMaps("AIzaSyDkQdWdHJofyWARkL_UrGZbDsnirQTrw3s",
                                           "#map",
                                           callback,
                                           {
                                                zoom: 8,
                                                styles: styles,
                                                mapTypeId: 'roadmap'
                                                //,tilt: 45,   
                                           });

                var tab_localisation = [
                    {
                        desc: "Toulouse",
                        lat: 43.6007,
                        lng: 1.432841
                    },
                    {
                        desc: "Paris",
                        lat: 48.858859,
                        lng: 2.347557,
                        icon: "marker.png"
                    },
                ];


                function callback(gMap) {
                                    gMap.setMarkers(tab_localisation);
                    
                    gMap.direction("Toulouse, Midi-Pyrénées",
                                   "Bordeaux, Gironde",
                                   {
                                         animateRoute : [
                                            {
                                                speed: 3, 
                                                followMarker: false,
                                                strokeColor: 'red',
                                                strokeOpacity: 0.5,
                                                strokeWeight: 5,
                                                editable: false,
                                                icon : "http://maps.google.com/mapfiles/ms/micons/blue.png",
                                            }
                                        ],
                                        travelMode: google.maps.TravelMode.DRIVING,
                                        provideRouteAlternatives : true,
                                        optimizeWaypoints: true,
                                        waypoints: [
                                            {
                                                location:"Balma, Midi-Pyrénées",
                                                stopover:false
                                            }
                                        ],
                                    }
                                  );

//                    gMap.setZoom(9);
                    
                    //                gMap.setCenter(tab_localisation[0].lat, tab_localisation[0].lng);
                    //                
                    //                gMap.removeMarkers();
                    console.debug(gMap);
                }

            })(jQuery)
        </script>
    </body>
</html>